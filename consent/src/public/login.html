<!DOCTYPE html>
<html>
  <head>
    <title>Login</title>
    <style>
      body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }
      .container { text-align: center; }
      button { padding: 12px 24px; font-size: 18px; border-radius: 8px; border: none; background: #4285f4; color: white; }
      button:hover { background: #3367d6; }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Login</h2>
      <a id="google-login-btn" href="#">
        <button>Login with Google</button>
      </a>
    </div>
    <script>
      // Extract 'flow' param and build the correct Kratos login link
      const urlParams = new URLSearchParams(window.location.search);
      const flow = urlParams.get('flow');
      const btn = document.getElementById('google-login-btn');
      if (flow) {
        btn.href = `http://localhost:4433/self-service/login/browser?flow=${flow}`;
      } else {
        btn.href = `http://localhost:4433/self-service/login/browser`;
      }
    </script>
  </body>
</html>
